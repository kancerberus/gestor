<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"                
                xmlns:f="http://java.sun.com/jsf/core">
    
        <p:outputPanel id="opAnalisisVulnerabilidad">
            <h2>                
                 <p class="letraBlueBackgroundWhite">Analisis Vulnerabilidades: #{uiPlanEmergencias.planEmergencia.centrotrabajo.nombre}</p>
            </h2>                  
            <h:panelGrid columns="4" >
                    <h:outputLabel value="Vulnerabilidad: " style="font-weight: bold;"/>
                    <p:selectOneMenu value="#{uiPlanEmergencias.analisisVulnerabilidad.vulnerabilidad}" converter="convertidorGenerico"
                                         style="text-align: center;width: 180px;">  
                            <f:selectItem itemLabel="Seleccionar" itemValue="" /> 
                            <f:selectItems value="#{uiPlanEmergencias.vulnerabilidadList}" var="vul" itemValue="#{vul}" itemLabel="#{vul.nombre}" />
                            <p:ajax  update="relvt" listener="#{uiPlanEmergencias.cargarRelVulneravilidadTipoAnalisisVulnerabilidad()}" />
                    </p:selectOneMenu>
                    
                    <h:outputLabel value="Tipo: " style="font-weight: bold;"/>
                    <p:selectOneMenu id="relvt" value="#{uiPlanEmergencias.analisisVulnerabilidad.vulnerabilidadTipo}" converter="convertidorGenerico"
                                         style="text-align: center;width: 180px;">  
                            <f:selectItem itemLabel="Seleccionar" itemValue="" /> 
                            <f:selectItems value="#{uiPlanEmergencias.relvulnerabilidadTipoList}" var="vult" itemValue="#{vult}" itemLabel="#{vult.nombre}" />                            
                            <p:ajax  update="preg" listener="#{uiPlanEmergencias.cargarCuestionarioVulnerabilidadesTipo()}" />
                    </p:selectOneMenu>
                    
                    <h:outputLabel value="Pregunta: " style="font-weight: bold;"/>
                    <p:selectOneMenu id="preg" value="#{uiPlanEmergencias.analisisVulnerabilidad.cuestionarioVulnerabilidad}" converter="convertidorGenerico"
                                         style="text-align: center;width: 180px;">  
                            <f:selectItem itemLabel="Seleccionar" itemValue="" /> 
                            <f:selectItems value="#{uiPlanEmergencias.cuestionarioVulnerabilidadAnalisisVulnerabilidadList}" var="cvul" itemValue="#{cvul}" itemLabel="#{cvul.nombre}" />
                    </p:selectOneMenu>
            </h:panelGrid>            
            <h:panelGrid columns="2">
                <p:commandButton value="Crear " action="#{uiPlanEmergencias.guardarAnalisisVulnerabilidadesList()}"
                                     icon="ui-icon-disk"
                                     update="opAnalisisVulnerabilidad, admvulpersonas,admvulrecursos, admvulsistemas"/>              
            </h:panelGrid>  
            <br/>            
            <p:dataTable id="admvulpersonas" var="admvulpersonas" value="#{uiPlanEmergencias.analisisVulnerabilidadPersonasList}" expandableRowGroups="true" rowKey="#{admvulpersonas.codAnalisisVulnerabilidad}" 
                         sortBy="#{admvulpersonas.vulnerabilidadTipo.nombre}"  editable="true" editMode="cell" widgetVar="celladmvulpersonas" 
                         selection="#{uiPlanEmergencias.selectedAnalisisVulnerabilidadPersonas}" selectionMode="single"  scrollable="true" scrollWidth="200%" >
                
                <f:facet name="header">
                    PERSONAS
                </f:facet>
                
               
                
                <p:ajax event="cellEdit" listener="#{uiPlanEmergencias.onCellEdit}" update="formAdminVulnerabilidades:admvulpersonas" />
                <p:ajax event="rowUnselect" listener="#{uiPlanEmergencias.onRowUnselect}" update="formAdminVulnerabilidades" />
                
                <p:columnGroup type="header">
                    <p:row>
                        <p:column width="10%" rowspan="3" headerText="Amenazas" />
                        <p:column colspan="14" headerText="Origen Tecnico" />
                        <p:column colspan="10" headerText="Origen Social" />
                        <p:column colspan="9" headerText="Origen Natural" />
                    </p:row>
                    <p:row style="font-size: 10px;font-weight: bolder" >
                        <p:column headerText="Incendio" />
                        <p:column headerText="Incendio Forestal" />
                        <p:column headerText="Accidente Transito" />
                        <p:column headerText="Explosion" />
                        <p:column headerText="Fuga de Gas" />
                        <p:column headerText="Derrame Quimicos" />
                        <p:column headerText="Deslizamento por Tala " />
                        <p:column headerText="Falla Estructural" />
                        <p:column headerText="Inundación estado tuberias" />
                        <p:column headerText="Inundación invasion rios" />
                        <p:column headerText="Corto Circuito" />
                        <p:column headerText="Avalancha Obstruccion Quebradas " />
                        <p:column headerText="Emergencia Aeronautica" />
                        <p:column headerText="Intoxicacion Alimentaria" />
                        <p:column headerText="Desorden Civil" />
                        <p:column headerText="Terrorismo" />
                        <p:column headerText="Zonas Minadas " />
                        <p:column headerText="Atentados" />
                        <p:column headerText="Amenaza de Bomba" />
                        <p:column headerText="Asaltos" />
                        <p:column headerText="Incendio Provocados " />
                        <p:column headerText="Concentraciones masivas" />  
                        <p:column headerText="Secuestro" />
                        <p:column headerText="Incursion Guerrillera" />
                        <p:column headerText="Sismos" />
                        <p:column headerText="Erupcion Volcanica" />
                        <p:column headerText="Deslizamiento de Tierra" />
                        <p:column headerText="Granizadas" />
                        <p:column headerText="Incendio Forestal" />
                        <p:column headerText="Tormenta Electrica" />
                        <p:column headerText="Temperatura Extrema" />
                        <p:column headerText="Inundación por lluvias " />
                        <p:column headerText="Vientos Huracanados" />
                    </p:row>
                </p:columnGroup>
                
                <p:headerRow  >
                    <p:column colspan="34">
                        <h:outputText value="#{admvulpersonas.vulnerabilidadTipo.nombre}" />
                    </p:column>
                </p:headerRow>
                
                <p:column style="height: 10%">
                    <h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.nombre}" />
                </p:column>
                
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif1}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif1}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif2}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif2}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif3}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif3}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif4}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif4}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif5}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif5}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif6}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif6}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif7}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif7}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif8}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif8}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif9}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif9}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif10}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif10}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif11}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif11}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif12}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif12}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif13}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif13}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif14}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif14}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif15}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif15}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif16}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif16}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif17}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif17}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>        
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif18}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif18}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif19}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif19}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif20}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif20}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif21}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif21}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif22}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif22}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif23}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif23}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif24}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif24}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif25}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif25}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif26}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif26}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif27}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif27}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif28}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif28}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif29}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif29}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif30}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif30}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif31}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif31}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif32}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif32}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif33}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif33}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                
                
            </p:dataTable>
            
            <p:contextMenu for="admvulpersonas" widgetVar="cMenu">   
                <p:menuitem value="Edit Cell" icon="pi pi-search" onclick="PF('celladmvulpersonas').showCellEditor();return false;"/>  
                <p:menuitem value="Hide Menu" icon="pi pi-times" onclick="PF('cMenu').hide()"/>  
            </p:contextMenu> 
            
            <p:contextMenu for="admvulpersonas">                
                <p:menuitem value="Eliminar" update="opAnalisisVulnerabilidad,admvulpersonas" icon="pi pi-times" action="#{uiPlanEmergencias.deleteAnalisisVulnerabilidad()}"/>
            </p:contextMenu>
            <br/>
            
            <p:dataTable id="admvulrecursos" var="admvulrecursos" value="#{uiPlanEmergencias.analisisVulnerabilidadRecursosList}" expandableRowGroups="true" 
                         rowKey="#{admvulrecursos.codAnalisisVulnerabilidad}" sortBy="#{admvulrecursos.vulnerabilidadTipo.nombre}" editable="true" editMode="cell" widgetVar="celladmvulrecursos"
                         selection="#{uiPlanEmergencias.selectedAnalisisVulnerabilidadRecursos}" selectionMode="single" scrollable="true" scrollWidth="200%" >
                <f:facet name="header">
                    RECURSOS
                </f:facet>
                
                <p:columnGroup type="header">
                    <p:row>
                        <p:column width="10%" rowspan="3" headerText="Amenazas" />
                        <p:column colspan="14" headerText="Origen Tecnico" />
                        <p:column colspan="10" headerText="Origen Social" />
                        <p:column colspan="9" headerText="Origen Natural" />
                    </p:row>
                    <p:row style="font-size: 10px;font-weight: bolder" >
                        <p:column headerText="Incendio" />
                        <p:column headerText="Incendio Forestal" />
                        <p:column headerText="Accidente Transito" />
                        <p:column headerText="Explosion" />
                        <p:column headerText="Fuga de Gas" />
                        <p:column headerText="Derrame Quimicos" />
                        <p:column headerText="Deslizamento por Tala " />
                        <p:column headerText="Falla Estructural" />
                        <p:column headerText="Inundación estado tuberias" />
                        <p:column headerText="Inundación invasion rios" />
                        <p:column headerText="Corto Circuito" />
                        <p:column headerText="Avalancha Obstruccion Quebradas " />
                        <p:column headerText="Emergencia Aeronautica" />
                        <p:column headerText="Intoxicacion Alimentaria" />
                        <p:column headerText="Desorden Civil" />
                        <p:column headerText="Terrorismo" />
                        <p:column headerText="Zonas Minadas " />
                        <p:column headerText="Atentados" />
                        <p:column headerText="Amenaza de Bomba" />
                        <p:column headerText="Asaltos" />
                        <p:column headerText="Incendio Provocados " />
                        <p:column headerText="Concentraciones masivas" />  
                        <p:column headerText="Secuestro" />
                        <p:column headerText="Incursion Guerrillera" />
                        <p:column headerText="Sismos" />
                        <p:column headerText="Erupcion Volcanica" />
                        <p:column headerText="Deslizamiento de Tierra" />
                        <p:column headerText="Granizadas" />
                        <p:column headerText="Incendio Forestal" />
                        <p:column headerText="Tormenta Electrica" />
                        <p:column headerText="Temperatura Extrema" />
                        <p:column headerText="Inundación por lluvias " />
                        <p:column headerText="Vientos Huracanados" />
                    </p:row>
                </p:columnGroup>
                
                <p:headerRow>
                    <p:column colspan="34">
                        <h:outputText value="#{admvulrecursos.vulnerabilidadTipo.nombre}" />
                    </p:column>
                </p:headerRow>
                
                <p:column style="height: 10%">
                    <h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.nombre}" />
                </p:column>
                
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif1}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif1}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif2}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif2}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif3}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif3}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif4}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif4}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif5}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif5}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif6}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif6}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif7}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif7}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif8}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif8}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif9}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif9}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif10}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif10}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif11}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif11}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif12}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif12}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif13}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif13}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif14}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif14}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif15}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif15}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif16}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif16}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif17}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif17}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>        
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif18}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif18}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulpersonas.cuestionarioVulnerabilidad.calif19}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulpersonas.cuestionarioVulnerabilidad.calif19}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif20}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif20}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif21}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif21}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif22}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif22}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif23}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif23}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif24}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif24}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif25}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif25}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif26}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif26}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif27}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif27}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif28}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif28}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif29}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif29}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif30}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif30}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif31}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif31}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif32}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif32}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulrecursos.cuestionarioVulnerabilidad.calif33}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulrecursos.cuestionarioVulnerabilidad.calif33}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
            </p:dataTable>            
            
            <p:contextMenu for="admvulrecursos" widgetVar="cMenu">   
                <p:menuitem value="Edit Cell" icon="pi pi-search" onclick="PF('celladmvulrecursos').showCellEditor();return false;"/>  
                <p:menuitem value="Hide Menu" icon="pi pi-times" onclick="PF('cMenu').hide()"/>  
            </p:contextMenu> 
            
            <p:contextMenu for="admvulrecursos">                
                <p:menuitem value="Eliminar" update="opAnalisisVulnerabilidad,admvulrecursos" icon="pi pi-times" action="#{uiPlanEmergencias.deleteAnalisisVulnerabilidad()}"/>
            </p:contextMenu>
            
            <br/>
            
            <p:dataTable id="admvulsistemas" var="admvulsistemas" value="#{uiPlanEmergencias.analisisVulnerabilidadSistemasList}" expandableRowGroups="true" rowKey="#{admvulsistemas.codAnalisisVulnerabilidad}" 
                         sortBy="#{admvulsistemas.vulnerabilidadTipo.nombre}" editable="true" editMode="cell" widgetVar="celladmvulsistemas" selection="#{uiPlanEmergencias.selectedAnalisisVulnerabilidadSistemas}" selectionMode="single"
                         scrollable="true" scrollWidth="200%"
                         >
                <f:facet name="header">
                    SYSTEMAS Y PROCESOS
                </f:facet>
                
                <p:columnGroup type="header">
                    <p:row>
                        <p:column width="10%" rowspan="3" headerText="Amenazas" />
                        <p:column colspan="14" headerText="Origen Tecnico" />
                        <p:column colspan="10" headerText="Origen Social" />
                        <p:column colspan="9" headerText="Origen Natural" />
                    </p:row>
                    <p:row style="font-size: 10px;font-weight: bolder" >
                        <p:column headerText="Incendio" />
                        <p:column headerText="Incendio Forestal" />
                        <p:column headerText="Accidente Transito" />
                        <p:column headerText="Explosion" />
                        <p:column headerText="Fuga de Gas" />
                        <p:column headerText="Derrame Quimicos" />
                        <p:column headerText="Deslizamento por Tala " />
                        <p:column headerText="Falla Estructural" />
                        <p:column headerText="Inundación estado tuberias" />
                        <p:column headerText="Inundación invasion rios" />
                        <p:column headerText="Corto Circuito" />
                        <p:column headerText="Avalancha Obstruccion Quebradas " />
                        <p:column headerText="Emergencia Aeronautica" />
                        <p:column headerText="Intoxicacion Alimentaria" />
                        <p:column headerText="Desorden Civil" />
                        <p:column headerText="Terrorismo" />
                        <p:column headerText="Zonas Minadas " />
                        <p:column headerText="Atentados" />
                        <p:column headerText="Amenaza de Bomba" />
                        <p:column headerText="Asaltos" />
                        <p:column headerText="Incendio Provocados " />
                        <p:column headerText="Concentraciones masivas" />  
                        <p:column headerText="Secuestro" />
                        <p:column headerText="Incursion Guerrillera" />
                        <p:column headerText="Sismos" />
                        <p:column headerText="Erupcion Volcanica" />
                        <p:column headerText="Deslizamiento de Tierra" />
                        <p:column headerText="Granizadas" />
                        <p:column headerText="Incendio Forestal" />
                        <p:column headerText="Tormenta Electrica" />
                        <p:column headerText="Temperatura Extrema" />
                        <p:column headerText="Inundación por lluvias " />
                        <p:column headerText="Vientos Huracanados" />
                    </p:row>
                </p:columnGroup>
                
                <p:headerRow>
                    <p:column colspan="34">
                        <h:outputText value="#{admvulsistemas.vulnerabilidadTipo.nombre}" />
                    </p:column>
                </p:headerRow>
                
                <p:column width="250px">
                    <h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.nombre}" />
                </p:column>
                
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif1}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif1}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif2}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif2}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif3}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif3}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif4}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif4}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif5}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif5}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif6}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif6}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif7}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif7}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif8}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif8}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif9}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif9}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif10}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif10}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif11}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif11}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif12}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif12}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif13}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif13}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif14}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif14}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif15}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif15}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif16}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif16}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif17}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif17}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif18}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif18}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif19}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif19}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif20}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif20}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif21}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif21}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif22}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif22}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif23}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif23}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif24}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif24}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif25}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif25}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif26}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif26}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif27}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif27}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif28}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif28}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif29}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif29}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif30}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif30}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif31}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif31}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif32}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif32}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
                <p:column>
                    <p:cellEditor>
                        <f:facet name="output"><h:outputText value="#{admvulsistemas.cuestionarioVulnerabilidad.calif33}" /></f:facet>
                        <f:facet name="input">
                            <h:selectOneMenu value="#{admvulsistemas.cuestionarioVulnerabilidad.calif33}" style="width:100%">
                                <f:selectItems value="#{uiPlanEmergencias.calificaciones}" var="cal" itemLabel="#{cal}" itemValue="#{cal}" />
                            </h:selectOneMenu>
                        </f:facet>
                    </p:cellEditor>                   
                </p:column>
            </p:dataTable>
            <p:contextMenu for="admvulsistemas" widgetVar="cMenu">   
                <p:menuitem value="Edit Cell" icon="pi pi-search" onclick="PF('celladmvulsistemas').showCellEditor();return false;"/>  
                <p:menuitem value="Hide Menu" icon="pi pi-times" onclick="PF('cMenu').hide()"/>  
            </p:contextMenu> 
            
            <p:contextMenu for="admvulsistemas">                
                <p:menuitem value="Eliminar" update="opAnalisisVulnerabilidad,admvulsistemas" icon="pi pi-times" action="#{uiPlanEmergencias.deleteAnalisisVulnerabilidad()}"/>
            </p:contextMenu>
            
            <br/>
            <h:panelGrid columns="2">
                <p:commandButton value="Guardar/Limpiar" action="#{uiPlanEmergencias.guardarAnalisisVulnerabilidad()}"
                                     icon="ui-icon-disk"
                                     update="opAnalisisVulnerabilidad"/>                
            </h:panelGrid>
        </p:outputPanel>                
</ui:composition>
