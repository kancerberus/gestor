<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"                
                xmlns:f="http://java.sun.com/jsf/core"
                template="/modelovista.xhtml">
    <ui:define name="content">
        <h:form enctype="multipart/form-data" id="formPlanMaestro" >
             <p:growl id="messages" showDetail="true" />
            <h1>
                PLAN MAESTRO
            </h1>
            <div align="left">
                <p:graphicImage  value="#{planMaestro.establecimiento.logo}" cache="false" width="80"/>
                <p:graphicImage url="/resources/imagenes/establecimientos/establecimiento.png" width="40" 
                    rendered="#{empty planMaestro.establecimiento.logo}"/>                                                                        
                <p:outputLabel style="font-size: 25px; font-family: bolder"  value="#{planMaestro.establecimiento.nombre}"/>                                     
            </div>
                <p:progressBar style="margin-left: 80%; margin: 0% 1% 1% 80%;" value="#{uiPlanMaestro.avanceEvaluacion}" labelTemplate="Avance EvaluaciÃ³n {value}%" displayOnly="true" interval="10"/>
            
                
                <p:tree  value="#{uiPlanMaestro.raizPlanear}" var="varPlanear" dynamic="true" orientation="horizontal"  filterBy="#{varPlanear}"
                         style="background: #5c9ddb; width: 60%"
                        >                                        
                    
                    <p:treeNode  expandedIcon="ui-icon-folder-open" collapsedIcon=" ui-icon-folder-collapsed"   >                        
                        <p:commandButton  ajax="disabled" disabled="#{empty uiPlanMaestro.fileDownloadTree}" value="#{varPlanear}" update=":formPlanMaestro:messages" style=" #{not empty uiPlanMaestro.fileDownloadTree ? 'background: #4cae4c;':'background: #ffffff;'}"  >
                            <p:fileDownload value="#{uiPlanMaestro.fileDownloadTree}" />
                        </p:commandButton>
                    </p:treeNode>
                </p:tree>
                
                <p:tree value="#{uiPlanMaestro.raizHacer}" var="varHacer" dynamic="true" orientation="horizontal"  filterBy="#{raizHacer}">
                    <p:treeNode  expandedIcon="ui-icon-folder-open" collapsedIcon=" ui-icon-folder-collapsed">
                        <p:commandButton  ajax="disabled" disabled="#{empty uiPlanMaestro.fileDownloadTree}" value="#{varHacer}" update=":formPlanMaestro:messages" style=" #{not empty uiPlanMaestro.fileDownloadTree ? 'background: #4cae4c;':'background: #ffffff;'}"  >
                            <p:fileDownload value="#{uiPlanMaestro.fileDownloadTree}" />
                        </p:commandButton>                        
                    </p:treeNode>
                </p:tree>
                
                <p:tree value="#{uiPlanMaestro.raizVerificar}" var="varVerificar" dynamic="true" orientation="horizontal"  filterBy="#{raizVerificar}">
                    <p:treeNode expandedIcon="ui-icon-folder-open" collapsedIcon=" ui-icon-folder-collapsed">
                        <p:commandButton  ajax="disabled" disabled="#{empty uiPlanMaestro.fileDownloadTree}" value="#{varVerificar}" update=":formPlanMaestro:messages" style=" #{not empty uiPlanMaestro.fileDownloadTree ? 'background: #4cae4c;':'background: #ffffff;'}"  >
                            <p:fileDownload value="#{uiPlanMaestro.fileDownloadTree}" />
                        </p:commandButton>                        
                    </p:treeNode>
                </p:tree>
                
                <p:tree value="#{uiPlanMaestro.raizActuar}" var="varActuar" dynamic="true" orientation="horizontal"  filterBy="#{raizActuar}">
                    <p:treeNode  expandedIcon="ui-icon-folder-open" collapsedIcon=" ui-icon-folder-collapsed">
                        <p:commandButton  ajax="disabled" disabled="#{empty uiPlanMaestro.fileDownloadTree}" value="#{varActuar}" update=":formPlanMaestro:messages" style=" #{not empty uiPlanMaestro.fileDownloadTree ? 'background: #4cae4c;':'background: #ffffff;'}"  >
                            <p:fileDownload value="#{uiPlanMaestro.fileDownloadTree}" />
                        </p:commandButton>                                                
                    </p:treeNode>
                </p:tree>
            <p:separator/>


            <p:dialog id="dialog" widgetVar="dialog" header="#{dialogo.header}" showEffect="#{dialogo.effect}" hideEffect="#{dialogo.effect}" width="#{dialogo.width}"
                      onHide="limpiarModal()">
                <ui:include src="#{dialogo.src}"/>
            </p:dialog>
            <p:remoteCommand name="limpiarModal" action="#{uiSesion.limpiarDialogo()}"  update="dialog" />            
        </h:form>
    </ui:define>
</ui:composition>
