<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"                
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"                
                xmlns:f="http://java.sun.com/jsf/core"
                template="/template.xhtml">
    <ui:define name="content">


        <h:form enctype="multipart/form-data" id="formPlanMaestro" style="font-size: small;">
            <h2>PLAN MAESTRO</h2>

            <p:tabView value="#{planMaestro.planTituloList}" var="varPlanTitulo" >
                <p:tab title="#{varPlanTitulo.numeral}. #{varPlanTitulo.nombre}">
                    <ui:repeat var="varPlanTituloTexto" value="#{varPlanTitulo.planTituloTextoList}">
                        <p class="letraBackgroundWhite" align="justify" style="font-weight: normal">
                            <br/>
                            #{varPlanTituloTexto.texto}
                        </p>
                    </ui:repeat>

                    <h:panelGroup rendered="#{not empty varPlanTitulo.tituloAdjuntos}">
                        <div>
                            <h3>#{varPlanTitulo.tituloAdjuntos}</h3>
                            <p align="left">

                                <p class="letraBackgroundWhite" style="font-weight: normal;">
                                    <br/>
                                    #{varPlanTitulo.descripcionAdjuntos}
                                </p>
                            </p>
                        </div>
                    </h:panelGroup>
                    <p:dataTable  value="#{varPlanTitulo.planTituloAdiuntosList}" var="varPlanTituloAdjuntos" 
                                  rendered="#{not empty varPlanTitulo.planTituloAdiuntosList}"
                                  rowStyleClass="letra-xx-small-centro"
                                  rowHover="true">

                        <p:column headerText="Documento">
                            <h:outputText value="#{varPlanTituloAdjuntos.documento}"/>
                        </p:column>
                        <p:column headerText="Ver Documento" width="30%">
                            <div>
                                <p:commandButton icon="ui-icon-document" title="Ver Adjunto" ajax="false">    
                                    <p:fileDownload value="#{uiPlanMaestro.fileDownload}" />
                                </p:commandButton>
                                <h:outputText value="  "/>
                                <h:outputText value="#{varPlanTituloAdjuntos.evaluacionAdjuntos.archivoSimple}"/>
                            </div>
                        </p:column>

                    </p:dataTable>


                    <h:panelGroup rendered="#{not empty varPlanTitulo.planSeccionList}">
                        <p:tabView value="#{varPlanTitulo.planSeccionList}" var="varPlanSeccion" style="font-size: x-small">
                            <p:tab title="#{varPlanSeccion.numeral}. #{varPlanSeccion.nombre}">

                                <ui:repeat var="varPlanSeccionTituloTexto" value="#{varPlanSeccion.planSeccionTextoList}">
                                    <p class="letraBackgroundWhite" align="justify" style="font-weight: normal">
                                        <br/>
                                        #{varPlanSeccionTituloTexto.texto}
                                    </p>
                                </ui:repeat>

                                
                                <h:panelGroup rendered="#{not empty varPlanSeccion.planSeccionMatriz}">
                                    <div>
                                        <h3>#{varPlanSeccion.planSeccionMatriz.titulo}</h3>
                                        <p align="left">

                                            <p class="letraBackgroundWhite" style="font-weight: normal;">
                                                <br/>
                                                #{varPlanSeccion.planSeccionMatriz.descripcion}
                                            </p>
                                        </p>
                                    </div>
                                </h:panelGroup>

                                <p:dataTable var="varPlanMatrizDetalle" value="#{varPlanSeccion.planSeccionMatriz.planSeccionMatrizDetalleList}"
                                             widgetVar="planPlanMatrizDetalleTable" rowStyleClass="letra-xx-small-centro" style="font-size: 10px;"
                                             rowHover="true" rendered="#{not empty varPlanSeccion.planSeccionMatriz.planSeccionMatrizDetalleList}"
                                             >
                                    <p:column headerText="Directriz">
                                        <p class="letraBackgroundWhite" align="justify" style="font-weight: normal">
                                            #{varPlanMatrizDetalle.directriz}
                                        </p>
                                    </p:column>
                                    <p:column headerText="Objetivos">
                                        <p class="letraBackgroundWhite" align="justify" style="font-weight: normal">
                                            #{varPlanMatrizDetalle.objetivos}
                                        </p>
                                    </p:column>
                                    <p:column headerText="Metas">
                                        <p class="letraBackgroundWhite" align="justify" style="font-weight: normal">
                                            #{varPlanMatrizDetalle.metas}
                                        </p>
                                    </p:column>
                                    <p:column headerText="Indicadores">
                                        <p class="letraBackgroundWhite" align="justify" style="font-weight: normal">
                                            #{varPlanMatrizDetalle.indicadores}
                                        </p>
                                    </p:column>
                                </p:dataTable>

                            </p:tab>
                        </p:tabView>
                    </h:panelGroup>


                </p:tab>
            </p:tabView>




            <p:separator/>


            <p:dialog id="dialog" widgetVar="dialog" header="#{dialogo.header}" showEffect="#{dialogo.effect}" hideEffect="#{dialogo.effect}" width="#{dialogo.width}"
                      onHide="limpiarModal()">
                <ui:include src="#{dialogo.src}"/>
            </p:dialog>
            <p:remoteCommand name="limpiarModal" action="#{uiSesion.limpiarDialogo()}"  update="dialog" />

            <ui:include src="/barra.xhtml">
                <ui:param name="bean" value="#{uiPlanMaestro}"/>
            </ui:include>
        </h:form>

    </ui:define>
</ui:composition>
